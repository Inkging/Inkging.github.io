<!DOCTYPE html>
<html lang="en" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <meta name="author" content="kokomu" />
  <meta name="description" content="" />
  
  
  <title>
    
      2023年小结 
      
      
      |
    
     kokomu
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <!-- 代码块风格 -->
  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="kokomu" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">kokomu</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">主页</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">归档</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">标签</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">关于</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="/plugins/mathjax/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="/plugins/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">2023年小结</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
          2024-01-18 11:46:46
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags mr-10" title="Tags"></i>
                
                <span class="span--tag mr-8">
                  <a href="/tags/%E6%9D%82%E8%AE%B0/" title="杂记">
                    #杂记
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容">
  <script id="hbeData" type="hbeData" data-hmacdigest="5357e33eff13c0192d85064bb52a442ec7bde892ed0df6bd1012a43a004493d0">5e76fbafdf70ce1433f1104f944de810cdf10071a8161d92204020c4a204108ba8dc6bf6af1bec63e732ddc2e881a12bbf7ac5fc432ec05637d5c61b6c1bf01d6889671850258ac8a346270b94d64eeb16d5ddfecdb6f2331ad2d6698a8fc7b69bb68ee3d03a783f10260268aaad81be66c3b29c878928471cbb614e1193d8b675d0c1d02828cb6bd7b42d6da2de479ba1b1b645d8599aa0b612ddcebaab79a604773772c1d5c05d54627d310f67ec1b88a2a1d0bcf8d7fdf3d4d519e4a0aaf06567b9414d7c1cd8af92c1085f737332a3812eed3be84e0400fb72b58b44a673c05e3dc4beb98eedff33bce634e8e1d37cb8daefb2a3ed9943cf5bb45f00772cd848fbd045e8b7f9c7124b04bf4523ab3cc2f77c415b6f81f9fc0de6b458c68feebd93ca97121c1395b7c43a5f0cc5623c83610359dbcc65a3f9a81dd5b5b6653e89a2484f22b91c72381e4c4b5096c50979811def5f71be7fcb3fc9a64ebab18709ec23b66c47f10fb0799f90c5da8552f08939687ecedab3a776883fb3ba7588aa9a0fbe52f5b492f0b66eeea4a7870849f7cd5f16b5c9c9977950802465ccdcce4b1686e16df1c76940b40d5616c3169054003637649de8302e3f31a5c5752a9a310dd6b018528beab7e5d505e5bb2aa59b433c097aff1199db8f01178c7e52b88989073c60a308a47ef9c0007eed5f7199a5b5dd50c96f5a5b6f379304722a752f56f5964c4d2f6539e282c33ab4fff84fcb25164c3254aadf4e2d90a774514873ea4b09ea9d13de1295425e21b7907678d7cb2f44349490dac6987e3d5259a3c2186e83a07da4e99c5e1b55f6b7b1d9925274d6a09f9b548a33cb8271bee60ab30fea5fd2f2a6c63c242b9a306f3d1d31611c5ca83cf4adc02f187f89cb59ae8cdef8781e5e40051c930adcf249d37612030b6ee349ff0533ec10eb113a8036219a11f711bcc140abd7e6b5c1b1354bb2f4942262e67e90150a91948169997cf0f3213d79ebe831a26fb34ccef6e1ee7c068c078458eede63da54a804f8141e595e9ba004d4380c5f0d97256fcf9acca141812c21264e5393f06ddb9348e40b1e842e26d40029eaa87ec29e31a15b104b0fadc41312e947f3a9197f06a1ba802d9855e6e93fd7d1246c9d770e814f30982eb32a99a38762df6fe4dc94609af56f29cfd275d174bbf5a5a93db87d1d5a1ed806137585917692c5301ca7928882a6607c69e2855c579301c1888d946498208303bf53081e71c61b18a4eba041e5b180880322e5599b6f0bc02700a0985a8593bae0b81c8a4eb9612bce4e589c1602b8d890791b7b420a94f05b84520ee72d5340e2ba20f3905d381cdcc310774ab0387e17a9ae9bed73ba2e66f62e2f00fc862d073aa296940f986cb8bd8e49da0812f4f47a207b604dd51b514dc8af153ffa26028a8a7dc6b8db2ba28c44879d87dd47675e5d6217ca42950eef1a65bdf1ccf22eed404ff442c05040c3d908a459bfc492c0d76068a58beeb7c4af3430f5c90ffa8d23eced35a11cbb1b192fdb4614536abb73c3070a121eb63369646b306e86904ef0d05f357e648a2e5f2a7670c4f2020be5f0c45cdbcb1392e6a9e6917381807511fe0782056653e58d082ea49df66d07b326a77591902104846ab16d278b39baf08413edeabf577760bc73d3972b5e713da367e2240612025c474df6dad597f4d2ded4b0af60c99b4c3d379befc8be81ffaa5c353012569a3113e00998eb2376eb993d3ff94a50cf6ab9a3d86f2f7b00863c91eab9cce4efe5a53d51c035cef774ab246f04b1f8094f110ba11d1cd91aa3f5a9284e448078011010155f6e3c6f75d28ded657ff2e89f4f6ecd0471622fe29379a75186dca82a37595821bae551a382d6aa7d1f66030113fa74751fb735bf1bc29805670da039e9cb0ef6bfc51cd5fca3fd9348a3930e2bae83fe7aac8c09c2484b4441ffa17f74c84a353422781934ecdf484966257eb24ca7ee4ef7f525b7e39e5689d9823538696955262c809525c9e11b275a4823f25dff0368a5ef047263afdef14ded1fb3e14cf2e26a62931e4e0ade703ae1eeb6b46158314fae4b0aed01de701f72f34c7bee349ffc9e80dcf09b251a6227d5a19f9b6e8ecdaae65772b537672e56b333e1c855ab6e21f0abeff86343caff84b72cc2652fd184d863f28357de0340dc5c356669952496e56aad542ff46f9c191deef7b84c2744b71739f47cde83442fbf55602da94e7d8bdf781aa7b49e391b08fe241bfa26cb37ac21a78c2b250ce6aac815aece786b2b4baf99139550be28785e3d9e1eb57e622d4e625e44a8bcbdadd26ffcd65145889c6ea7917ccf11cd68ef2657e87a4b20528a8890fef5be1ec58f02894950aa5cb35c9ef9eac6a191922384d8632637dd078786c2438c4a25e318dc521d4716358c25761b4ceddd07084a3c6c9441b02bd1022162671b5f93b7f3389309ff2ef5a2b2fb78d9f4f59a2590ae35595973065641b51bbbde0b1355b6c1cadacfe909bb63ec40758283d67b06ae2baf634eb6db632a1ad1f62aaf470150a9541fc6a311afb6d1ecfae59ddcbd91f0c703a41931e89197f7182309e516f8ce752ce4660c6b8ad4d3f2732fd27188818084fc749bccdb1704c00d9796f9650f9fe38557604fd2f7040ced4079cfbf27a75a9edf4973c61935b7e9c6d71f3409edfde5c4fc5d3e5c8cd621364da2ef9db30385cb27b73075dd5a9198c1e2d382deac404cf96e1323a221de7114a42c1cf3ad611f5343778a2e267d9969217d40fc56058e8d0783a9fd011431ab5b4bca8c3f0a0b41489841224d1bee3935928a1fc0df534c9ef52eb692f59c569df2c873c15b85c32c304f677d4c7bcfaa673c04234ed0a2f1d7ca98db033b412b3890be2e7e4896fc7093227022839d300b4ae1eac1bdb84b55b176c0c0fd22c921736b1232a52820832ce372574659066de5748a58beeb83742c106fb479f793bd241e8e3b8baae15e563e43ddd3f1115c7bf173baf21b35a09ca463553e52ef33e680c140e79f52f35f1ae0777b4a00b0381ff7b56d57ff957cd8df2cd8b7800771231785469446eb7f39a45e59cee7e934c68abcd892ff87893098076c11dc3fb52d74591f2f779753a4630d56693d2d34fc92b8be9be9d10f47273f8fce6789c591b951b6fd87e8adae84f4ab4d756b984cfff4f11ba5f85b22be4b7dcc39a9c5522057d4f91ba0222015084c5da446ce8a88e9b9eac5182f10701f086f636891dfe523009f36f19e08fcc2742caa25c4cbeef5b5787901f5e5fb9b25e204d307e357e60f36d36cef255d0c00ab9566846fd769d21e7e788a2effbaa4a65daa6eb91c4841928aa861de9f8f1d32204374bb8fdf7072ab139e826ef2c8d0dca66df617b9dd2aa8a604dcc3a71a0e6f70de5997ecddd051d64f5cb383bc913df171b7ef555afa5e0810d750a8eb2dd5baa54e574286a6b08acb3b06b2afb9863e6f665a866dfc46e7d902065c0457299a1d11654dcf892ba4bde6777e3c2179db70d662c88189d599bcb5f7a1ed766fc95c49d96dd5ec5a8d5550af8c3fe51b050a9a03dc84bf6b9e4564b26896c03cf88ca0783393803595912e8a15f7c744b3c41bfd074437ffdb26231284e4bfa8320741a4c8030573268342e339efb5c2256e5bbaa758de63e3c05311d1fd0927160bff2d41843a47e41dbd75edc1f13c2e257b7def36a15f284be23670cddd66029c9c391a5300c4d357f0d46defc189ca4d3142b52657287a715d11a10cc89163207150407046c5fa198bc6b85878bfdcf3a7215c91a385436378e936262a947ba70b426ac3eabda9d2239c1aafb17b8339201b0fa11a0f39d966c0a6f932f409240405840ec6d4092dacdbf15b66d09b6cc20d53c8120920c45dc6d0246d768f18af4aa3938ad59615ceac58d475d202246829000f4c28b61780c442eff0ef9f4c797e907a2538ed67047228188a27e2027de8131b4036e1bd861d295756d7b0602a2fa9a5df7e3191be3f3074998cf01c21b1b5655846b53d4b7e774b0d28098fb262c552cb1bbb2302ce79e0761c566ebeed7aa11347911d65a6b47b0d483198f2e842631829f5a6470073323f1991ebce5de306570ecd084f822022b863eb5b543e88d7a8069e46c74751f34b1322c6b2a544e1e47f30cbbf018a35590c06cedff6881eeaf0c3129aeec20841b7b4dbf162e695726912a324927d58690c3b06c4fe55285ce1ec5fbacf8c04fd4459767511d5398ca2c14ca6c8dc6e608d89687b5522ac785819a5cd06775e3f4bd7ea9b5150631d7ec0a7ce17fd229ddf7375b58286fea6083c5037ea77ed3921b99bc08e8b1b4224577b1306292b113fb72e6f56807e22bdacd242e3b3883cf1fb2d033a98fd697a1707c3c05d49b4c869fff4de1637306a756c81598a998e2cc0c117d5f16b24d3fdacfdb42f0ec332bf2f18c8a3436dfc57d3f01a99be717151fc6a076765dd6668418c7dac2f0e2d124f30d9e7bc1c56ba8cf4dcdf95ccf068c43fcb6d5b6d8f162eccab89a3618f28dac1719cc7117c469abd819dc9742b09f29aa35a998005aa797ab17978ec61c06e3300fe6b7960a5179f42cbf1ae9e9bbb0b73618a586ed8536849ae31cfefc03c2a5139e326fa0bea7cf03b33fdaf3fffdba0aa862b5703dab6a3a15baada40231bec3f36483588356ea962ad6ad7944ea33c96f06c9fd22b94fe8380637cf2597885967552f8392a00536754240393e5cc2fa226a6fbc433f0880a111ca7a4dc335e54d557686c1325ae1df83d53e911e1f57e3d955278110f1a1ff4f6f13af79155ce8c577b0817d8745ff897e0cc640a32b0c5160905bdc2ddad0d57e2fd4763fdf97a799849debd053fea4227c7ea334abe33283597f52c523c12a3f91ccad4950b6ebcf93e62988e86a84cac30eb1bdda96449c8f0a67063323faa1160a0474a2a4f804a89cab7a26265245bb92ab9cb8376ea849c90121df02a0309563553d669e0a6219914eccd7a37310fb3767aa80f30ac3a417ed36086a1249bbf6de021786c0003fb6afe5ade47adb594b575bc2073f4ee143246f20a8e1c69bd4bbeedf42e6499477ae7424c156cc37036c4165884c37e6b6d273a8cf1358603492c40a21d5d2fdf6535a01be627458f29d22485acf6b839f43ab37dc78b3d74b5957db6ef1c23516e32a487b0338ffaf9422907996c37304168ea0e95df80646a58fc648556f4e67801b3a962b3e683adc33dea8d974f02b0d441cac0bd6654f0b77699c91c93f3d9285a770b2cd9fb049272d34f7580870a89ae4a3c5c236560f6e08960ed3800af628f17c992791c3f7aaa123f7bdd147d0967cedf5813ee67c5d0f1d22249b20e9779f802d00effc585e9099ca5103ea2da1ac953381b7fa58501fbf3e5e02544fcd487492aedb3582fd27e147c8e203b1715bf9ee6401f3dfa8b9f50af49d1128de0a876078459e097f432de750327d277140055effec3c83c5fc40dfe49f1ddba69b01ea75078aa78bd279c4b72c8aef1d354a587524f421476e5158b9571c326c42cf9b499cc39bb585b1a394f465f275764f5d0b2b098eb9212b48647685997f3535248027196921d9a8ce92edcbc93fd9a334785e43f11338108fe77027ad8373fadeca8f0a5ac6fd16bd4e5dca031a707a492ec92b67259ebb5919f25c9bb8f972fe3eb87c412bfac0fe1e58e256a6428df2c447096dd34b30ee2daffc8db04992babe4663cad0328348997f7112202ad6faa87957189c7c9094c34a12cd59f24dfb4f8e8186949067a9d2a2ec37edebef9cbb850936c96df36a2c0a020bde79cedfd8f075dda399334be478ddaf7d7a1af71149ed30c03a4847fa34cd833cbaf605dd660e23d586f0c7c153cd25cd9157d72f9596c67936731d389eb3f83c6cc5314577e456ec0a207def95fa4ea02f44c8e393dbf3a7de187ea3f26ff2e18cd4b1b711953fe9a586847f62440fa1b6018a809ad20579689717234215b6e13aaf0b87eeb4f2c018f14af056f317a6a68a35eb16b4e5334a4e1b171fa1c19d88404a2453b1c816d30c6e1b6f5586559f8aa8d9c4f814b01e9b87288405dca908999e0e74ac57763481339495662376d620446df198e9fca92a7f3ecd962b39c2e2fa652e99115cf6c9d3d1a435593f5b1f3567e999044024e55023b5c40db0f826091c420f8c54c53e361a0c953704783c211ac78525251ddc810655c0da8b50edf7ecbcad0915f3a9688b2f64337848d28518509ab27c965f270a671d41bd6c4a9d3e739dbe039424dc2ab3ad3abd93a2fb5679d168d127759ad6618b37e3dbc4dbebdd4a23c850a4fee90ddd56093590df6eec1824fd33faa57b4542ea2bc9521440821f3bf287ded9c772004ce4bb32d972d86e54cd6f9f64bf505334198ec0142e0e19f841db7ea96bb2a15f94ee6ca95a32b2d0ae6654174724e222a17b905ac901100e17e7c08e18fb8f219f9c7626845ec94144b8817f2e950982d3b8d864a3a4720f2bf5e85edeffb14e0f5913073aa0ff73a25f66c230b8adda3878793aa85379ed4eed426945dee34568d53f06587c7fe432de2afd493079ea37fed8ba3476ca48befd5465416507027a0148fe1c690a1572c072268d97768b8aeced21eaef9e4620f3b01b2fa6e8254a6875065afe80eb812de6d7a7cc4dc4fada9693b3e0e2c947752c2a53de36651925f240d78acee373d2dcf20df6d3098054e152a61e4ee3a4c320692183106dba1e59a461db8d775da2a17abe488766d0da33a5aa84232811c795ee0323d733d92535456070051e8159d908ac084fa47f9e986f7368a7672ff1fd0664a74e9364e49f1118cce119d29e108971f7bbef7b5aae4cdf8c6ccb69315d4442c49c9ba4bd899c128f02d79d820073b37afef9a48809a42274abdbce07605d4d89330eacbd37de5dab9747d7569f67ef529c9d153347752928568079071fdee63f262955a18f5909916ca8319bed5aca4341900abfb91d05aa43a43673312bad979067200d1c7d0294c29bea51de2095759d0b088c0d2dd968790ba52a68c92d50b2b98c202a9f45ddff96d81ce1125d5f019c6fed2541280d94919663bed23382ab83a7acc3b9afa818abdd54bf311ac692ec776487cef63f9da6727a1e9da3410e2a158f054412dfdbf9716157c8823acf13ab29155c6253081fd7c42b3c2aa378a24ed22af56ad4c8f794f1cae583c3eab91899509a15b717af688484b10eb83c099b9b5fd05d7d106b4a110e4386602ce8e95d1ddd35d689c5c2004fbab6fd4d4ee2ddcb307ab36085b33aea08241bb7e9ec20db5f019ca6ae7d1c8f8250f28d81ecadc52ea84d57672ad8cc6818511437231152bc49419fe0b9c917bb41586a5b4749b2a1d27a10a3e58f4b2bd92aa52344f603279f95b08ed3ca99904abece6a6409ac9839b7dc560f769b431b23890c8b69010f0595517397340d046051cf5923f304e792c52197a011515afa0a9938cd294ef33dade45ebf0320f1101ae72b208c566cc0c8cf7e27e76a027c3610795d72b62232c31f1ee9912fbedf8d7bc31a843f64050d22f60c65d8af962a3bc93f72ee17018b157d2507b085a3cdcf10e6e4c9991d3939290e231bc09c6b7808387598a</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">输入密码查看文章</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">
      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2023/12/05/%E5%B0%8F%E8%BD%A6%E8%B6%A3%E4%BA%8B/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
              2024-01-18 11:46:46
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags mr-10" title="Tags"></i>
                    
                    <span class="span--tag mr-8">
                      <a href="/tags/%E6%9D%82%E8%AE%B0/" title="杂记">
                        #杂记
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
          </div>
        </div>
      
    </div>
    

    
      <div class="comments-container">
        







      </div>
    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/Inkging?tab=repositories">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/Inkging">Copyright © 2024 kokomu</a>
        
    </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Powered by Hexo</a>
        
    </div>
  
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="搜索...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        

      </div>
    </div>
  </body>
</html>
